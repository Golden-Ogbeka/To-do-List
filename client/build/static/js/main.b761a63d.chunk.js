(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],{143:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),i=n(18),s=n(37),l=n.n(s),u=n(19),d=n(66),b=n(23),j=n(295),h=(n(143),n(306)),p=n(307),f=n(310),O=n(297),m=n(299),x=n(309),g=n(308),y=n(300),v=n(301),k=n(302),C=n(303),F=n(313),w=n(304),S=n(305),T=n(312),B=n(67),z=n.n(B),q=n(68),E=n(123),W=n(69),D=n(7),N=Object(j.a)((function(e){return{root:{fontFamily:"Calibri",fontWeight:"normal",color:"#000000",backgroundColor:"#FFFFFF"},form:{"& > *":{marginBlock:e.spacing(1),width:"100%"}}}}));var A=function(){var e=N(),t=r.a.useState({open:!1,type:"error",message:""}),n=Object(b.a)(t,2),a=n[0],o=n[1],c=r.a.useState([]),s=Object(b.a)(c,2),j=s[0],B=s[1],A=r.a.useState(!0),G=Object(b.a)(A,2),J=G[0],_=G[1];r.a.useEffect((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get("".concat(q.a,"/api/tasks"));case 3:t=e.sent,B(t.data),_(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),o(Object(u.a)(Object(u.a)({},a),{},{open:!0,type:"error",message:"Couldn't retrieve tasks"})),_(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var H=function(){return o(Object(u.a)(Object(u.a)({},a),{},{open:!a}))},I=Object(E.a)({initialValues:{title:"",content:""},validationSchema:W.a({title:W.b().required("Title is required"),content:W.b().required("Content is required")}),onSubmit:function(e){R(e)},enableReinitialize:!0}),R=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.post("".concat(q.a,"/api/task"),t);case 3:n=e.sent,B([].concat(Object(i.a)(j),[{_id:n.data,title:t.title,content:t.content}])),o(Object(u.a)(Object(u.a)({},a),{},{open:!0,type:"success",message:"Task Added"})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(Object(u.a)(Object(u.a)({},a),{},{open:!0,type:"error",message:"Couldn't add task"}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.delete("".concat(q.a,"/api/task?taskID=").concat(t));case 3:n=e.sent,B(j.filter((function(e){return e._id!==t}))),o(Object(u.a)(Object(u.a)({},a),{},{open:!0,type:"success",message:n.data})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),o(Object(u.a)(Object(u.a)({},a),{},{open:!0,type:"error",message:"Couldn't delete task"}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)("div",{className:e.root,children:[Object(D.jsx)(O.a,{position:"static",style:{backgroundColor:"#1976D2",boxShadow:"none"},children:Object(D.jsxs)(m.a,{children:[Object(D.jsx)("h4",{style:{fontFamily:"Calibri",fontWeight:"normal",fontSize:19,margin:0,flexGrow:1},children:"To-do List"}),Object(D.jsx)("h4",{style:{fontFamily:"Calibri",fontWeight:"lighter",fontSize:12,margin:0},children:"by Golden Ogbeka"})]})}),Object(D.jsxs)(x.a,{style:{minHeight:"100vh",padding:20},children:[Object(D.jsxs)(x.a,{children:[Object(D.jsx)("h2",{style:{fontFamily:"Calibri",marginTop:0},children:"Add new task"}),Object(D.jsxs)("form",{className:e.form,onSubmit:I.handleSubmit,children:[Object(D.jsx)(g.a,{label:"Title",variant:"outlined",required:!0,type:"text",id:"title",name:"title",placeholder:"Enter tasks' title",onChange:I.handleChange,onBlur:I.handleBlur,value:I.values.title||"",error:I.touched.title&&I.errors.title,helperText:I.touched.title&&I.errors.title&&I.errors.title,fullWidth:!0}),Object(D.jsx)(g.a,{label:"Content",variant:"outlined",required:!0,type:"text",id:"content",name:"content",placeholder:"Enter tasks' content",onChange:I.handleChange,onBlur:I.handleBlur,value:I.values.content||"",error:I.touched.content&&I.errors.content,helperText:I.touched.content&&I.errors.content&&I.errors.content,multiline:!0,fullWidth:!0}),Object(D.jsx)(y.a,{variant:"contained",style:{width:173,height:57,borderRadius:4,color:"#FFFFFF",backgroundColor:"#1976D2"},type:"submit",children:"Add Task"})]})]}),Object(D.jsx)(v.a,{style:{marginBlock:20}}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)("h2",{style:{fontFamily:"Calibri",marginTop:0},children:"Your Tasks"}),J?Object(D.jsx)(k.a,{}):j&&j.length>0?j.map((function(e){return Object(D.jsxs)(C.a,{style:{display:"flex",marginBottom:20},children:[Object(D.jsx)(F.a,{title:e.title,subheader:e.content,style:{flexGrow:1}}),Object(D.jsx)(w.a,{children:Object(D.jsx)(S.a,{onClick:function(){return L(e._id)},children:Object(D.jsx)(h.a,{style:{color:"#FB4E4E"}})})})]})})):Object(D.jsx)("span",{style:{fontFamily:"Calibri",fontSize:16},children:"No task found"})]})]}),Object(D.jsx)(T.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,open:a.open,onClose:H,action:Object(D.jsx)(S.a,{size:"small","aria-label":"close",color:"inherit",onClick:H,children:Object(D.jsx)(p.a,{fontSize:"small"})}),children:Object(D.jsx)(f.a,{onClose:H,severity:a.type,variant:"filled",children:a.message})})]})};c.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(A,{})}),document.getElementById("root"))},68:function(e){e.exports=JSON.parse('{"a":"https://to-do-app-by-golden-ogbeka.herokuapp.com"}')}},[[264,1,2]]]);
//# sourceMappingURL=main.b761a63d.chunk.js.map